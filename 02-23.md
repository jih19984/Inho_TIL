# 2026-02-23 기획/운영 정리

## 1. 서비스 페르소나 (2명)

### 1) 공간 운영자형
- **대상:** 스터디카페/코워킹/공유오피스 운영자
- **목표:** 좌석 체류시간 증가, 불만 감소, 환기 운영 효율화
- **Pain Point:**
  - 공기질 관리가 체감/경험에 의존
  - 공기 나쁨·답답함 발생 후 대응
- **가치 제안:** 위험도 예측 기반 환기/운영 권고로 의사결정 속도 개선

### 2) 집중형 개인 사용자
- **대상:** 공부/업무 집중이 중요한 개인
- **목표:** 집중 저하 원인 파악, 중단 없이 몰입 유지
- **Pain Point:** 답답함/피로 원인 인지가 늦음
- **가치 제안:** CO₂+행동 패턴 기반 사전 경고 + 즉시 조치 제안

## 2. 유사 서비스 유무

- CO₂/실내 공기질 모니터링(수치 중심) 서비스 존재
- 미세먼지·온습도 대시보드, 좌석/예약관리 서비스 존재
- **부재 영역:** CO₂ + 공간 내 행동 신호를 결합해 집중 저하를 예측하고
  환기 액션까지 추천·검증하는 종합형 서비스는 적음

## 3. 유사 서비스 대비 차별점

1. **멀티 소스 결합:** CO₂, 입/퇴장·이동 이벤트, 활동 패턴을 동시 분석
2. **예측형 알림:** 상태가 나빠지기 전 위험 구간 경보
3. **행동 제안 루프:** 알림 → 환기/이동/휴식 제안 → 효과 측정까지 연결
4. **프라이버시 친화:** 개인 식별 최소화, 구역/집계 단위 데이터 중심
5. **운영지표 제공:** 추천 전/후 개선률, 시간대 리스크 패턴 리포팅

## 4. 유입(초기 관심) 요인

- 변화 시점 한눈에 보이는 실시간 대시보드
- 알림의 이유를 함께 제시(단순 경보 아님)
- 설치/연동 템플릿으로 빠른 시작
- 파일럿 결과(회복 속도 개선/민원 감소) 공유

## 5. 유지(지속 이용) 요인

- 효과가 보이는 피드백(조치 후 지표 회복)
- 과도 알림 방지(임계치/쿨다운/TTL 정책)
- 시간대/구역별 개인화(공간 특성 학습)
- 정기 리포트(일일/주간 요약)로 반복 사용 습관화

## 6. 데이터/기능 설계 메모

### 사용 데이터
- CO₂ 값(`co2_ppm`, 변화율)
- 인원 추정(`people_count`), 입/퇴장 이벤트
- 활동 지수(자세/이탈/복귀 이벤트 기반)
- 환기 액션 로그, 시간/구간 메타

### 구현 가능한 핵심 기능
- 실시간 위험도 대시보드
- 위험도 예측 및 자동 알림
- 조치 가이드(환기/휴식/자리 이동)
- 조치 효과 분석 리포트

### 저작권 및 데이터 이슈
- 원천 센서 데이터는 자사 수집 데이터로 사용
- 외부 API는 라이선스·요금·캐시/재사용 정책 준수
- 개인정보 미수집/익명화 원칙 유지(개인 신원 정보 최소화)

## 7. 확장성/성능 기획 핵심 (요약)

- **Scale-out 우선:** 초기에는 작은 서버 여러 대 + 로드밸런싱 구조로 확장
- **DB 최적화:** 읽기 위주의 워크로드에 Master/Replica 분리
- **캐시:** 공지/조회 빈도가 높은 정적/반복 데이터 캐시로 응답 속도 개선
- **CDN:** 정적 자원은 변동이 적은 경우 CDN 적용 고려
- **비정형 데이터:** 로그/센서 이벤트를 NoSQL 및 직렬화 파이프라인으로 유연 처리

## 8. 확장성/성능 전략 상세(요청 반영)

### 1) 데이터 확장 전략 (Scale-up vs Scale-out)

- **Scale-up (수직 확장)**: CPU/RAM/디스크를 키워 단일 서버 성능을 높이는 방식
  - 장점: 구조가 간단
  - 단점: 성능/비용 한계가 명확하고, 1대 장애 시 전체 영향(SPOF) 위험
- **Scale-out (수평 확장)**: 저렴한 서버를 여러 대 추가하고 로드밸런서를 통해 트래픽 분산
  - 장점: 트래픽 분산·가용성 높음, 무한 확장에 유리
  - 단점: 세션/상태 동기화 등 분산 아키텍처 복잡도 증가
- **TIL 적용 전략**: 운영 초반에는 가성비 측면에서 수평 확장(Scale-out) 중심으로 설계

### 2) DB 최적화 전략

- 대부분 서비스에서 **Read 비중이 Write보다 큼**
- **Master-Replica(Replication)**
  - Master: 쓰기 전용
  - Replica: 읽기 전용(부하 분산)
- **고가용성(HA) 및 장애 복구(Failover)**
  - 보조 DB 다중화로 일부 서버 장애 시 즉시 대체 가능하도록 구성
  - 대시보드/히스토리 조회처럼 읽기 중심 API를 Replica에서 처리

### 3) 캐시 전략

- DB에 직접 접근하지 않고 RAM에서 빠르게 조회
- 적용 기준: 자주 조회되지만 수정이 적은 데이터(공지사항, 고정 설정, KPI 리포트)
- 운영 체크 포인트
  - **TTL**: 캐시 만료 정책
  - **일관성**: DB 변경 시 캐시 무효화/갱신 전략
  - **Eviction**: 캐시 공간 관리 정책(LRU/LFU/FIFO)

### 4) CDN 전략

- 정적 자산(CSS/JS/이미지)을 사용자 근접 노드에 캐시
- 장점: 응답 지연 감소, 원천 서버 부하 감소
- 도입 체크
  - 버전 관리를 통한 강제 무효화(Invalidation)
  - 갱신 주기/트래픽 규모 고려(초기에는 비용 대비 효과 검토)

### 5) 비정형 데이터/직렬화

- **비정형 데이터**: 로그, 이미지, SNS 텍스트, 이벤트 스트림(스키마가 유연)
- **직렬화**: 메모리 객체를 바이트 스트림으로 변환해 전송/저장
  - 예시: JSON, MessagePack, Protobuf, Avro
- 실시간 처리 중심일수록 가벼운 포맷 우선, 장기 저장 시 스키마 관리 가능한 포맷 고려

### 핵심 문장(문서용)
- "TIL은 사용자 증가와 센서 데이터 증가를 고려해 초기에 Master-Replica와 캐시 계층으로 읽기 성능을 확보하고,
  트래픽 증가 구간부터 CDN과 서비스 분산 아키텍처로 확대하는 단계적 확장 전략을 채택한다."
